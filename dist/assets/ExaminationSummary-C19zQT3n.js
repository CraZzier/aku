import{d as S,r as d,f as v,u as T,g as L,h as N,i as V,l as u,j as o,o as t,m,I as D,n as E,p as O,q,s as F,t as G,a,Q as l,x as H,c as n,T as y,U as _,W as p,C as M}from"./index-Dzcw_t6C.js";const P={style:{"padding-left":"10px"}},Q={key:0,style:{"font-size":"14px","margin-left":"6px"}},R={style:{"padding-left":"10px"}},U={key:0,style:{"font-size":"14px","margin-left":"6px"}},W={key:1,style:{"font-size":"14px","margin-left":"6px"}},j={style:{"padding-left":"10px"}},A={style:{"font-size":"14px","margin-left":"6px"}},J={style:{"padding-left":"10px"}},K={key:0,style:{"font-size":"14px","margin-left":"6px"}},X={key:1,style:{"font-size":"14px","margin-left":"6px"}},Y={style:{"padding-left":"10px"}},Z={style:{"font-size":"14px","margin-left":"6px"}},$=["src"],te=S({__name:"ExaminationSummary",setup(ee){const I=d(""),h=d(""),B=d(),i=N(),f=d(void 0),c=d();let k=v([]),C=v([]),w=v([]);const g=T(),z=d(null),r=new Image;return r.src="/puls.jpg",L(()=>{var x;if(console.log(i.params.examinationId,i.params.userId),console.log(g.users),i.params.examinationId&&i.params.userId){const s=g.users.find(e=>e.id===i.params.userId);if(console.log(s,g.users),s){console.log(s);const e=(x=s.examinations)==null?void 0:x.find(b=>b.id===i.params.examinationId);e&&(console.log(e),I.value=e.diagnosis,k=e.symptoms,C=e.muscleTests,B.value=e.pulseImage,r.src=e.pulseImage||"/puls.jpg",w=e.treatments,h.value=e.notes,f.value=e.notesImage)}}if(!c.value){console.error("Canvas element is not available");return}z.value=c.value.getContext("2d"),r.onload=()=>{c.value.width=r.width,c.value.height=r.height,z.value.drawImage(r,0,0)}}),(x,s)=>(t(),V(o(M),null,{default:u(()=>[m(o(D),null,{default:u(()=>[m(o(E),null,{default:u(()=>[m(o(O),{slot:"start"},{default:u(()=>[m(o(q),{ref:"back-button",text:"Cofnij",icon:o(F)},null,8,["icon"])]),_:1})]),_:1})]),_:1}),m(o(G),{class:"ion-padding"},{default:u(()=>[a("div",null,l(),1),m(o(H),{style:{"border-bottom":"solid 1px rgba(0, 0, 0, 0.2)"}},{default:u(()=>[s[0]||(s[0]=a("div",{class:"summary-title"},"Objawy",-1)),(t(!0),n(y,null,_(o(k),e=>(t(),n("div",P,[e.isChecked?(t(),n("span",Q,l(e.name),1)):p("",!0)]))),256)),s[1]||(s[1]=a("div",{class:"summary-title"},"Test mięśniowy",-1)),(t(!0),n(y,null,_(o(C),e=>(t(),n("div",R,[e.isChecked?(t(),n("span",U,l(e.name),1)):p("",!0),e.isChecked?(t(),n("span",W,l(e.result),1)):p("",!0)]))),256)),s[2]||(s[2]=a("div",{class:"summary-title"},"Diagnoza",-1)),a("div",j,[a("span",A,l(I.value),1)]),s[3]||(s[3]=a("div",{class:"summary-title"},"Leczenie",-1)),(t(!0),n(y,null,_(o(w),e=>(t(),n("div",J,[e.isChecked?(t(),n("span",K,l(e.name),1)):p("",!0),e.isChecked?(t(),n("span",X,l(e.description),1)):p("",!0)]))),256)),s[4]||(s[4]=a("div",{class:"summary-title"},"Informacja dodatkowe",-1)),a("div",Y,[a("span",Z,l(h.value),1)]),a("div",null,[f.value?(t(),n("img",{key:0,src:f.value,style:{width:"100%",height:"auto","margin-top":"10px"}},null,8,$)):p("",!0)]),a("canvas",{ref_key:"canvas",ref:c,style:{border:"1px solid black","margin-top":"10px"}},null,512)]),_:1})]),_:1})]),_:1}))}});export{te as default};
