System.register(["./index-legacy-vJymvoyK.js"],(function(e,a){"use strict";var t,n,l,s,i,o,d,r,u,p,c,m,g,x,v,f,y,h,b,k,w,C,I,z,j;return{setters:[e=>{t=e.d,n=e.r,l=e.f,s=e.u,i=e.g,o=e.h,d=e.i,r=e.l,u=e.j,p=e.o,c=e.m,m=e.I,g=e.n,x=e.p,v=e.q,f=e.s,y=e.t,h=e.a,b=e.Q,k=e.x,w=e.c,C=e.T,I=e.U,z=e.W,j=e.C}],execute:function(){var a=document.createElement("style");a.textContent="ion-button{--background: #b7f399;--background-activated: #87d361;--background-hover: #a3e681;--border-radius: 15px;--box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, .3), 0px 1px 3px 1px rgba(0, 0, 0, .15);--color: black}canvas{width:100%;height:auto}.summary-title{width:96%;margin:10px auto 5px;font-size:16px;font-weight:700;padding-bottom:10px;padding-left:4px;border-bottom:solid 1px white}\n",document.head.appendChild(a);const _={style:{"padding-left":"10px"}},T={key:0,style:{"font-size":"14px","margin-left":"6px"}},E={style:{"padding-left":"10px"}},S={key:0,style:{"font-size":"14px","margin-left":"6px"}},q={key:1,style:{"font-size":"14px","margin-left":"6px"}},D={style:{"padding-left":"10px"}},G={style:{"font-size":"14px","margin-left":"6px"}},L={style:{"padding-left":"10px"}},O={key:0,style:{"font-size":"14px","margin-left":"6px"}},Q={key:1,style:{"font-size":"14px","margin-left":"6px"}},U={style:{"padding-left":"10px"}},W={style:{"font-size":"14px","margin-left":"6px"}},A=["src"];e("default",t({__name:"ExaminationSummary",setup(e){const a=n(""),t=n(""),B=n(),F=o(),H=n(void 0),J=n(void 0),K=n();let M=l([]),N=l([]),P=l([]);const R=s(),V=n(null),X=new Image;X.src="/puls.jpg",i((async()=>{if(console.log(F.params.examinationId,F.params.userId),console.log(R.users),F.params.examinationId&&F.params.userId){const n=R.users.find((e=>e.id===F.params.userId));if(console.log(n,R.users),n){var e;console.log(n);const l=null===(e=n.examinations)||void 0===e?void 0:e.find((e=>e.id===F.params.examinationId));l&&(console.log(l),a.value=l.diagnosis,M=l.symptoms,N=l.muscleTests,B.value=l.pulseImage,X.src=await Y(B.value)||"/puls.jpg",P=l.treatments,t.value=l.notes,J.value=l.notesImage)}}K.value?(V.value=K.value.getContext("2d"),X.onload=()=>{K.value.width=X.width,K.value.height=X.height,V.value.drawImage(X,0,0)},J.value&&(H.value=await Y(J.value)||void 0)):console.error("Canvas element is not available")}));const Y=async e=>{try{const a=await fetch("https://akupunkturaigla.pl/api/sync/image/download?key="+e,{method:"GET",headers:{"Content-Type":"application/json"}});return(await a.json()).content}catch(a){return console.error("Error downloading photo:",a),null}};return(e,n)=>(p(),d(u(j),null,{default:r((()=>[c(u(m),null,{default:r((()=>[c(u(g),null,{default:r((()=>[c(u(x),{slot:"start"},{default:r((()=>[c(u(v),{ref:"back-button",text:"Cofnij",icon:u(f)},null,8,["icon"])])),_:1})])),_:1})])),_:1}),c(u(y),{class:"ion-padding"},{default:r((()=>[h("div",null,b(),1),c(u(k),{style:{"border-bottom":"solid 1px rgba(0, 0, 0, 0.2)"}},{default:r((()=>[n[0]||(n[0]=h("div",{class:"summary-title"},"Objawy",-1)),(p(!0),w(C,null,I(u(M),(e=>(p(),w("div",_,[e.isChecked?(p(),w("span",T,b(e.name),1)):z("",!0)])))),256)),n[1]||(n[1]=h("div",{class:"summary-title"},"Test mięśniowy",-1)),(p(!0),w(C,null,I(u(N),(e=>(p(),w("div",E,[e.isChecked?(p(),w("span",S,b(e.name),1)):z("",!0),e.isChecked?(p(),w("span",q,b(e.result),1)):z("",!0)])))),256)),n[2]||(n[2]=h("div",{class:"summary-title"},"Diagnoza",-1)),h("div",D,[h("span",G,b(a.value),1)]),n[3]||(n[3]=h("div",{class:"summary-title"},"Leczenie",-1)),(p(!0),w(C,null,I(u(P),(e=>(p(),w("div",L,[e.isChecked?(p(),w("span",O,b(e.name),1)):z("",!0),e.isChecked?(p(),w("span",Q,b(e.description),1)):z("",!0)])))),256)),n[4]||(n[4]=h("div",{class:"summary-title"},"Informacja dodatkowe",-1)),h("div",U,[h("span",W,b(t.value),1)]),h("div",null,[J.value?(p(),w("img",{key:0,src:H.value,style:{width:"100%",height:"auto","margin-top":"10px"}},null,8,A)):z("",!0)]),h("canvas",{ref_key:"canvas",ref:K,style:{border:"1px solid black","margin-top":"10px"}},null,512)])),_:1})])),_:1})])),_:1}))}}))}}}));
