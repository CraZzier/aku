import{d as U,x as _,u as z,v as S,o as $,c as V,w as s,b as e,I as F,e as t,U as x,H as v,j as N,y as A,z as r,A as u,B as P,C as j,a3 as H,a4 as M,a5 as O,O as R,R as q,k as E,J as G,P as J,Q,q as K,s as W,t as p,l as X,a6 as Y,p as Z,M as k}from"./index-D0tbHg6R.js";const ee=["src"],le=U({__name:"Tab1Page",setup(ae){const d=_(""),T=W(),h=z(),n=_(""),L=()=>{T.push("/manageUser")},y=a=>{if(!a){console.error("User ID is undefined");return}T.push({path:"/userDetails/".concat(a)})},c=a=>{if(a==="alphabetToggle"&&(n.value==="alphabetAsc"?n.value="alphabetDesc":n.value="alphabetAsc"),a==="lastVisitToggle"&&(n.value==="lastVisitAsc"?n.value="lastVisitDesc":n.value="lastVisitAsc"),a==="createdToggle"&&(n.value==="createdAsc"?n.value="createdDesc":n.value="createdAsc"),n.value===a){n.value="";return}},B=S(()=>h.users.filter(a=>{var l,o;return console.log(a),((l=a==null?void 0:a.name)==null?void 0:l.toLowerCase().includes(d.value.toLowerCase()))||((o=a==null?void 0:a.surname)==null?void 0:o.toLowerCase().includes(d.value.toLowerCase()))}).sort((a,l)=>{var f,D,b,w,C,I;const o=new Date(((D=(f=a.examinations)==null?void 0:f.sort((m,g)=>new Date(g.date).getTime()-new Date(m.date).getTime())[0])==null?void 0:D.date)||"").getTime(),i=new Date(((w=(b=l.examinations)==null?void 0:b.sort((m,g)=>new Date(g.date).getTime()-new Date(m.date).getTime())[0])==null?void 0:w.date)||"").getTime();return n.value==="alphabetAsc"?((C=a.name)==null?void 0:C.localeCompare(l.name||""))||0:n.value==="alphabetDesc"?((I=l.name)==null?void 0:I.localeCompare(a.name||""))||0:n.value==="lastVisitAsc"?o-i:n.value==="lastVisitDesc"?i-o:n.value==="createdAsc"?new Date(a.created||"").getTime()-new Date(l.created||"").getTime():n.value==="createdDesc"?new Date(l.created||"").getTime()-new Date(a.created||"").getTime():0}));return $(()=>{}),(a,l)=>(p(),V(e(F),null,{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(x),null,{default:s(()=>l[4]||(l[4]=[v("div",{style:{padding:"20px"}},[v("div",{style:{"font-size":"20px"}},"Lista pacjentÃ³w")],-1)])),_:1})]),_:1}),t(e(K),{"fixed-slot-placement":"before"},{default:s(()=>[t(e(A),{slot:"fixed",vertical:"top",horizontal:"end",edge:!0},{default:s(()=>[t(e(r),{size:"small",color:"dark"},{default:s(()=>[t(e(u),{icon:e(P)},null,8,["icon"])]),_:1}),t(e(j),{side:"bottom"},{default:s(()=>[t(e(r),{onClick:l[0]||(l[0]=o=>c("alphabetToggle"))},{default:s(()=>[t(e(u),{icon:e(H)},null,8,["icon"])]),_:1}),t(e(r),{color:"secondary",onClick:l[1]||(l[1]=o=>c("lastVisitToggle"))},{default:s(()=>[t(e(u),{icon:e(M)},null,8,["icon"])]),_:1}),t(e(r),{color:"primary",onClick:l[2]||(l[2]=o=>c("createdToggle"))},{default:s(()=>[t(e(u),{icon:e(O)},null,8,["icon"])]),_:1})]),_:1})]),_:1}),t(e(R),{modelValue:d.value,"onUpdate:modelValue":l[3]||(l[3]=o=>d.value=o),style:{"margin-top":"20px"}},null,8,["modelValue"]),t(e(A),{horizontal:"end",vertical:"bottom",slot:"fixed"},{default:s(()=>[t(e(r),{onClick:L},{default:s(()=>[t(e(u),{icon:e(q)},null,8,["icon"])]),_:1})]),_:1}),t(e(E),null,{default:s(()=>[(p(!0),G(Q,null,J(B.value,(o,i)=>(p(),V(e(X),{button:"",onClick:f=>y(o.id),key:i},{default:s(()=>[t(e(Y),{slot:"start"},{default:s(()=>[v("img",{src:"https://picsum.photos/80/80?random="+i,alt:"avatar"},null,8,ee)]),_:2},1024),t(e(x),null,{default:s(()=>[Z(k(o.name)+" "+k(o.surname),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}))}});export{le as default};
