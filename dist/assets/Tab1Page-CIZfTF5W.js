import{d as S,r as h,u as F,D as $,g as z,i as x,l as n,j as e,k as N,o as v,m as t,I as j,_ as k,a as p,t as E,F as A,G as r,E as u,H as G,J as H,a7 as P,a8 as J,a9 as M,S as O,X as Q,x as R,c as X,T as q,U as K,y as W,aa as Y,B as Z,Q as L,C as ee}from"./index-Db2ZZ3ec.js";const ae=["src"],se=S({__name:"Tab1Page",setup(te){const c=h(""),T=N(),D=F(),l=h(""),U=()=>{T.push("/manageUser")},y=o=>{if(!o){console.error("User ID is undefined");return}T.push({path:"/userDetails/".concat(o)})},d=o=>{if(o==="alphabetToggle"&&(l.value==="alphabetAsc"?l.value="alphabetDesc":l.value="alphabetAsc"),o==="lastVisitToggle"&&(l.value==="lastVisitAsc"?l.value="lastVisitDesc":l.value="lastVisitAsc"),o==="createdToggle"&&(l.value==="createdAsc"?l.value="createdDesc":l.value="createdAsc"),l.value===o){l.value="";return}},B=$(()=>{var o;return console.log(D.fetchUsers),(o=D.fetchUsers)==null?void 0:o.filter(a=>{var s,i;return console.log(a),((s=a==null?void 0:a.name)==null?void 0:s.toLowerCase().includes(c.value.toLowerCase()))||((i=a==null?void 0:a.surname)==null?void 0:i.toLowerCase().includes(c.value.toLowerCase()))}).sort((a,s)=>{var C,_,b,w,I,V;const i=new Date(((_=(C=a.examinations)==null?void 0:C.sort((m,g)=>new Date(g.date).getTime()-new Date(m.date).getTime())[0])==null?void 0:_.date)||"").getTime(),f=new Date(((w=(b=s.examinations)==null?void 0:b.sort((m,g)=>new Date(g.date).getTime()-new Date(m.date).getTime())[0])==null?void 0:w.date)||"").getTime();return l.value==="alphabetAsc"?((I=a.name)==null?void 0:I.localeCompare(s.name||""))||0:l.value==="alphabetDesc"?((V=s.name)==null?void 0:V.localeCompare(a.name||""))||0:l.value==="lastVisitAsc"?i-f:l.value==="lastVisitDesc"?f-i:l.value==="createdAsc"?new Date(a.created||"").getTime()-new Date(s.created||"").getTime():l.value==="createdDesc"?new Date(s.created||"").getTime()-new Date(a.created||"").getTime():0})});return z(()=>{}),(o,a)=>(v(),x(e(ee),null,{default:n(()=>[t(e(j),null,{default:n(()=>[t(e(k),null,{default:n(()=>a[4]||(a[4]=[p("div",{style:{padding:"20px"}},[p("div",{style:{"font-size":"20px"}},"Lista pacjentÃ³w")],-1)])),_:1})]),_:1}),t(e(E),{"fixed-slot-placement":"before"},{default:n(()=>[t(e(A),{slot:"fixed",vertical:"top",horizontal:"end",edge:!0},{default:n(()=>[t(e(r),{size:"small",color:"dark"},{default:n(()=>[t(e(u),{icon:e(G)},null,8,["icon"])]),_:1}),t(e(H),{side:"bottom"},{default:n(()=>[t(e(r),{onClick:a[0]||(a[0]=s=>d("alphabetToggle"))},{default:n(()=>[t(e(u),{icon:e(P)},null,8,["icon"])]),_:1}),t(e(r),{color:"secondary",onClick:a[1]||(a[1]=s=>d("lastVisitToggle"))},{default:n(()=>[t(e(u),{icon:e(J)},null,8,["icon"])]),_:1}),t(e(r),{color:"primary",onClick:a[2]||(a[2]=s=>d("createdToggle"))},{default:n(()=>[t(e(u),{icon:e(M)},null,8,["icon"])]),_:1})]),_:1})]),_:1}),t(e(O),{modelValue:c.value,"onUpdate:modelValue":a[3]||(a[3]=s=>c.value=s),style:{"margin-top":"20px"}},null,8,["modelValue"]),t(e(A),{horizontal:"end",vertical:"bottom",slot:"fixed"},{default:n(()=>[t(e(r),{onClick:U},{default:n(()=>[t(e(u),{icon:e(Q)},null,8,["icon"])]),_:1})]),_:1}),t(e(R),null,{default:n(()=>[(v(!0),X(q,null,K(B.value,(s,i)=>(v(),x(e(W),{button:"",onClick:f=>y(s.id),key:i},{default:n(()=>[t(e(Y),{slot:"start"},{default:n(()=>[p("img",{src:"https://picsum.photos/80/80?random="+i,alt:"avatar"},null,8,ae)]),_:2},1024),t(e(k),null,{default:n(()=>[Z(L(s.name)+" "+L(s.surname),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}))}});export{se as default};
