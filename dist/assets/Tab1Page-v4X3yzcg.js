import{d as S,r as b,u as F,D as $,g as z,i as I,l as n,j as a,k as N,o as p,m as t,I as j,_ as V,a as w,t as E,F as A,G as f,E as m,H as G,J as H,a7 as P,a8 as J,a9 as M,S as O,X as Q,x as R,c as X,T as q,U as K,y as W,aa as Y,B as Z,Q as U,C as ee}from"./index-BIOcMetf.js";const ae=["src"],le=S({__name:"Tab1Page",setup(te){const r=b(""),L=N(),T=F(),s=b(""),y=()=>{L.push("/manageUser")},x=i=>{if(!i){console.error("User ID is undefined");return}L.push({path:"/userDetails/".concat(i)})},v=i=>{if(i==="alphabetToggle"&&(s.value==="alphabetAsc"?s.value="alphabetDesc":s.value="alphabetAsc"),i==="lastVisitToggle"&&(s.value==="lastVisitAsc"?s.value="lastVisitDesc":s.value="lastVisitAsc"),i==="createdToggle"&&(s.value==="createdAsc"?s.value="createdDesc":s.value="createdAsc"),s.value===i){s.value="";return}},B=$(()=>{var i;return console.log(T.fetchUsers),(i=T.fetchUsers)==null?void 0:i.filter(e=>{var l,c,d;return console.log(e),((l=e==null?void 0:e.name)==null?void 0:l.toLowerCase().includes(r.value.toLowerCase()))||((c=e==null?void 0:e.surname)==null?void 0:c.toLowerCase().includes(r.value.toLowerCase()))||((d=e==null?void 0:e.examinations)==null?void 0:d.some(u=>u.diagnosis.toLowerCase().includes(r.value.toLowerCase())||u.treatments.some(o=>o.name.toLowerCase().includes(r.value.toLowerCase())&&o.isChecked)||u.muscleTests.some(o=>o.name.toLowerCase().includes(r.value.toLowerCase())&&o.isChecked)||u.muscleTests.some(o=>o.result.toLowerCase().includes(r.value.toLowerCase())&&o.isChecked)||u.treatments.some(o=>o.description.toLowerCase().includes(r.value.toLowerCase())&&o.isChecked)||u.symptoms.some(o=>o.name.toLowerCase().includes(r.value.toLowerCase())&&o.isChecked)||u.notes.toLowerCase().includes(r.value.toLowerCase())||u.date.toLowerCase().includes(r.value.toLowerCase())))}).sort((e,l)=>{var u,o,D,h,k,_;const c=new Date(((o=(u=e.examinations)==null?void 0:u.sort((g,C)=>new Date(C.date).getTime()-new Date(g.date).getTime())[0])==null?void 0:o.date)||"").getTime(),d=new Date(((h=(D=l.examinations)==null?void 0:D.sort((g,C)=>new Date(C.date).getTime()-new Date(g.date).getTime())[0])==null?void 0:h.date)||"").getTime();return s.value==="alphabetAsc"?((k=e.name)==null?void 0:k.localeCompare(l.name||""))||0:s.value==="alphabetDesc"?((_=l.name)==null?void 0:_.localeCompare(e.name||""))||0:s.value==="lastVisitAsc"?c-d:s.value==="lastVisitDesc"?d-c:s.value==="createdAsc"?new Date(e.created||"").getTime()-new Date(l.created||"").getTime():s.value==="createdDesc"?new Date(l.created||"").getTime()-new Date(e.created||"").getTime():0})});return z(()=>{}),(i,e)=>(p(),I(a(ee),null,{default:n(()=>[t(a(j),null,{default:n(()=>[t(a(V),null,{default:n(()=>e[4]||(e[4]=[w("div",{style:{padding:"20px"}},[w("div",{style:{"font-size":"20px"}},"Lista pacjentÃ³w")],-1)])),_:1})]),_:1}),t(a(E),{"fixed-slot-placement":"before"},{default:n(()=>[t(a(A),{slot:"fixed",vertical:"top",horizontal:"end",edge:!0},{default:n(()=>[t(a(f),{size:"small",color:"dark"},{default:n(()=>[t(a(m),{icon:a(G)},null,8,["icon"])]),_:1}),t(a(H),{side:"bottom"},{default:n(()=>[t(a(f),{onClick:e[0]||(e[0]=l=>v("alphabetToggle"))},{default:n(()=>[t(a(m),{icon:a(P)},null,8,["icon"])]),_:1}),t(a(f),{color:"secondary",onClick:e[1]||(e[1]=l=>v("lastVisitToggle"))},{default:n(()=>[t(a(m),{icon:a(J)},null,8,["icon"])]),_:1}),t(a(f),{color:"primary",onClick:e[2]||(e[2]=l=>v("createdToggle"))},{default:n(()=>[t(a(m),{icon:a(M)},null,8,["icon"])]),_:1})]),_:1})]),_:1}),t(a(O),{modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=l=>r.value=l),style:{"margin-top":"20px"}},null,8,["modelValue"]),t(a(A),{horizontal:"end",vertical:"bottom",slot:"fixed"},{default:n(()=>[t(a(f),{onClick:y},{default:n(()=>[t(a(m),{icon:a(Q)},null,8,["icon"])]),_:1})]),_:1}),t(a(R),null,{default:n(()=>[(p(!0),X(q,null,K(B.value,(l,c)=>(p(),I(a(W),{button:"",onClick:d=>x(l.id),key:c},{default:n(()=>[t(a(Y),{slot:"start"},{default:n(()=>[w("img",{src:"https://picsum.photos/80/80?random="+c,alt:"avatar"},null,8,ae)]),_:2},1024),t(a(V),null,{default:n(()=>[Z(U(l.name)+" "+U(l.surname),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}))}});export{le as default};
