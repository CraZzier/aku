import{d as Z,r as x,u as ee,D as E,g as te,i as ae,l as n,j as e,h as le,k as ne,o as g,m as a,I as O,n as I,p as C,A as m,B as r,E as p,s as oe,t as $,F as S,G as w,H as se,J as ie,K as T,L as de,M as U,N as ue,a as c,c as k,y as D,O as re,P as pe,Q as f,R as B,S as fe,T as M,U as V,V as ce,W as F,X as ve,Y as A,C as ge}from"./index-Dzcw_t6C.js";const me={style:{"font-size":"14px","padding-right":"10px","padding-left":"10px"}},Ce={style:{"font-size":"14px","margin-left":"6px","padding-left":"16px"}},we={style:{"padding-left":"12px","padding-bottom":"12px"}},ke={style:{"margin-top":"5px","margin-left":"4px"}},ye={key:0,style:{"border-bottom":"1px solid rgba(0,0,0,0.3)",width:"100%",padding:"6px"}},xe={key:1,style:{"margin-left":"12px","margin-top":"12px",width:"100%",padding:"6px"}},he=Z({__name:"UserDetails",setup(_e){const _=x(!1),L=x(!1),z=ee(),d=E(()=>z.users.find(o=>o.id===P.params.id)),v=x(""),N=E(()=>{var o,t;return(t=(o=d.value)==null?void 0:o.examinations)==null?void 0:t.filter(l=>l.diagnosis.toLowerCase().includes(u.value.toLowerCase())||l.treatments.some(s=>s.name.toLowerCase().includes(u.value.toLowerCase())&&s.isChecked)||l.muscleTests.some(s=>s.name.toLowerCase().includes(u.value.toLowerCase())&&s.isChecked)||l.muscleTests.some(s=>s.result.toLowerCase().includes(u.value.toLowerCase())&&s.isChecked)||l.treatments.some(s=>s.description.toLowerCase().includes(u.value.toLowerCase())&&s.isChecked)||l.symptoms.some(s=>s.name.toLowerCase().includes(u.value.toLowerCase())&&s.isChecked)||l.notes.toLowerCase().includes(u.value.toLowerCase())||l.date.toLowerCase().includes(u.value.toLowerCase())).sort((l,s)=>v.value===""?0:v.value==="asc"?new Date(l.date).getTime()-new Date(s.date).getTime():v.value==="desc"?new Date(s.date).getTime()-new Date(l.date).getTime():v.value==="diagnosis"?l.diagnosis.localeCompare(s.diagnosis):0)}),b=o=>{if(v.value===o){v.value="";return}v.value=o},P=le(),y=ne(),u=x(""),H=o=>{const t={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};return new Date(o).toLocaleDateString("pl-PL",t)},j=o=>{var t;y.push({path:"/examinationSummary/".concat((t=d.value)==null?void 0:t.id,"/").concat(o)})};te(async()=>{});const R=()=>{L.value=!0},W=()=>{var o;y.push({path:"/manageExamination/".concat((o=d.value)==null?void 0:o.id)})};function G(o=15){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let l="";const s=t.length;for(let i=0;i<o;i++)l+=t.charAt(Math.floor(Math.random()*s));return l}const q=(o,t)=>{var l;o.stopPropagation(),y.push({path:"/manageExamination/".concat((l=d.value)==null?void 0:l.id),query:{examinationId:t}})},h=x(""),J=(o,t)=>{o.stopPropagation(),_.value=!0,h.value=t},K=()=>{var o;z.deleteExamination(h.value,(o=d.value)==null?void 0:o.id),_.value=!1,h.value=""},Q=()=>{_.value=!1,h.value=""},X=()=>{var o;z.removeUser((o=d.value)==null?void 0:o.id),L.value=!1,y.push({path:"/"})},Y=()=>{L.value=!1};return(o,t)=>(g(),ae(e(ge),null,{default:n(()=>[a(e(O),null,{default:n(()=>[a(e(I),null,{default:n(()=>[a(e(C),{slot:"start"},{default:n(()=>[a(e(m),{onClick:t[0]||(t[0]=l=>e(y).push("/")),style:{height:"30px",width:"100px"}},{default:n(()=>[a(e(p),{icon:e(oe)},null,8,["icon"]),t[9]||(t[9]=r(" Wróc "))]),_:1})]),_:1})]),_:1})]),_:1}),a(e($),{class:"ion-padding"},{default:n(()=>[a(e(S),{slot:"fixed",vertical:"top",horizontal:"end",edge:!0},{default:n(()=>[a(e(w),{size:"small",color:"dark"},{default:n(()=>[a(e(p),{icon:e(se)},null,8,["icon"])]),_:1}),a(e(ie),{side:"bottom"},{default:n(()=>[a(e(w),{onClick:t[1]||(t[1]=l=>b("asc"))},{default:n(()=>[a(e(p),{icon:e(T)},null,8,["icon"])]),_:1}),a(e(w),{color:"secondary",onClick:t[2]||(t[2]=l=>b("desc"))},{default:n(()=>[a(e(p),{icon:e(T)},null,8,["icon"])]),_:1}),a(e(w),{color:"primary",onClick:t[3]||(t[3]=l=>b("diagnosis"))},{default:n(()=>[a(e(p),{icon:e(de)},null,8,["icon"])]),_:1}),a(e(w),{color:"danger",onClick:R},{default:n(()=>[a(e(p),{icon:e(U)},null,8,["icon"])]),_:1})]),_:1})]),_:1}),a(e(ue),null,{default:n(()=>[t[12]||(t[12]=c("img",{src:"https://picsum.photos/80/80?random=1",alt:"avatar",height:"80",width:"100%"},null,-1)),a(e(D),{atyle:"overflow:auto"},{default:n(()=>[a(e(re),null,{default:n(()=>[a(e(pe),null,{default:n(()=>{var l,s;return[r(f((l=d.value)==null?void 0:l.name)+" "+f((s=d.value)==null?void 0:s.surname),1)]}),_:1}),a(e(B),null,{default:n(()=>{var l,s;return[r(f((l=d.value)==null?void 0:l.email)+" "+f((s=d.value)==null?void 0:s.phone),1)]}),_:1}),a(e(B),null,{default:n(()=>{var l;return[r(f((l=d.value)==null?void 0:l.age)+" lat",1)]}),_:1})]),_:1})]),_:1}),a(e(D),null,{default:n(()=>[a(e(I),null,{default:n(()=>[a(e(C),null,{default:n(()=>[a(e(fe),{modelValue:u.value,"onUpdate:modelValue":t[4]||(t[4]=l=>u.value=l),placeholder:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(g(!0),k(M,null,V(N.value,(l,s)=>(g(),k("div",{key:G()},[a(e(D),{class:"header",onClick:i=>j(l.id)},{default:n(()=>[c("div",me,"Wizyta - "+f(H(l.date)),1),a(e(m),{slot:"end",color:"secondary",onClick:i=>q(i,l.id)},{default:n(()=>[a(e(p),{icon:e(ce)},null,8,["icon"])]),_:2},1032,["onClick"]),a(e(m),{slot:"end",color:"danger",onClick:i=>J(i,l.id)},{default:n(()=>[a(e(p),{icon:e(U)},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1032,["onClick"]),t[10]||(t[10]=c("div",{style:{"padding-left":"22px","padding-top":"2px",color:"white"}},[c("p",null,"Diagnoza:")],-1)),c("div",Ce,f(l.diagnosis||"Brak danych"),1),t[11]||(t[11]=c("div",{style:{"padding-left":"22px","padding-top":"2px",color:"white"}},[c("p",null,"Leczenie:")],-1)),c("div",we,[(g(!0),k(M,null,V(l.treatments,i=>(g(),k("div",ke,[i.isChecked?(g(),k("div",ye,f(i.name),1)):F("",!0),i.description?(g(),k("div",xe,f(i.description),1)):F("",!0)]))),256))])]))),128))]),_:1}),a(e(S),{horizontal:"end",vertical:"bottom",slot:"fixed"},{default:n(()=>[a(e(w),{onClick:W},{default:n(()=>[a(e(p),{icon:e(ve)},null,8,["icon"])]),_:1})]),_:1}),a(e(A),{ref:"modal",isOpen:_.value},{default:n(()=>[a(e(O),null,{default:n(()=>[a(e(I),null,{default:n(()=>[a(e(C),{slot:"start"},{default:n(()=>[a(e(m),{onClick:t[5]||(t[5]=l=>Q())},{default:n(()=>t[13]||(t[13]=[r("Anuluj")])),_:1})]),_:1}),a(e(C),{slot:"end"},{default:n(()=>[a(e(m),{strong:!0,onClick:t[6]||(t[6]=l=>K())},{default:n(()=>t[14]||(t[14]=[r("Usuń")])),_:1})]),_:1})]),_:1})]),_:1}),a(e($),{class:"ion-padding"},{default:n(()=>t[15]||(t[15]=[r(" Czy na pewno chcesz usunąć wizytę? ")])),_:1})]),_:1},8,["isOpen"]),a(e(A),{ref:"modal",isOpen:L.value},{default:n(()=>[a(e(O),null,{default:n(()=>[a(e(I),null,{default:n(()=>[a(e(C),{slot:"start"},{default:n(()=>[a(e(m),{onClick:t[7]||(t[7]=l=>Y())},{default:n(()=>t[16]||(t[16]=[r("Anuluj")])),_:1})]),_:1}),a(e(C),{slot:"end"},{default:n(()=>[a(e(m),{strong:!0,onClick:t[8]||(t[8]=l=>X())},{default:n(()=>t[17]||(t[17]=[r("Usuń")])),_:1})]),_:1})]),_:1})]),_:1}),a(e($),{class:"ion-padding"},{default:n(()=>t[18]||(t[18]=[r(" Czy na pewno chcesz usunąć użytkownika? ")])),_:1})]),_:1},8,["isOpen"])]),_:1})]),_:1}))}});export{he as default};
